<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Create fake data for your JVM programs within minutes,  using our wide range of more than 100 data providers"><meta name=author content="Erik Pragt"><link href=https://www.datafaker.net/documentation/schemas/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.2.3, mkdocs-material-8.1.3"><title>Transformation schemas - Datafaker</title><link rel=stylesheet href=../../assets/stylesheets/main.bb3983ee.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.e6a45f82.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#schema-and-transformers class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title=Datafaker class="md-header__button md-logo" aria-label=Datafaker data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Datafaker </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Transformation schemas </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg> </a> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/datafaker-net/datafaker/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> datafaker-net/datafaker </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../getting-started/ class="md-tabs__link md-tabs__link--active"> Documentation </a> </li> <li class=md-tabs__item> <a href=../../releases/1.7.0-SNAPSHOT/ class=md-tabs__link> Releases </a> </li> <li class=md-tabs__item> <a href=../../in-the-media/links/ class=md-tabs__link> In the news </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title=Datafaker class="md-nav__button md-logo" aria-label=Datafaker data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg> </a> Datafaker </label> <div class=md-nav__source> <a href=https://github.com/datafaker-net/datafaker/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> datafaker-net/datafaker </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> Home </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2> Documentation <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Documentation data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Documentation </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../getting-started/ class=md-nav__link> Getting started </a> </li> <li class=md-nav__item> <a href=../usage/ class=md-nav__link> Basic usage </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_3 type=checkbox id=__nav_2_3> <label class=md-nav__link for=__nav_2_3> Data Providers <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Data Providers" data-md-level=2> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Data Providers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../providers/ class=md-nav__link> All providers </a> </li> <li class=md-nav__item> <a href=../custom-providers/ class=md-nav__link> Custom providers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4 checked> <label class=md-nav__link for=__nav_2_4> Advanced usage <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Advanced usage" data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Advanced usage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sequences/ class=md-nav__link> Sequences </a> </li> <li class=md-nav__item> <a href=../date-format/ class=md-nav__link> Date format </a> </li> <li class=md-nav__item> <a href=../expressions/ class=md-nav__link> Expressions </a> </li> <li class=md-nav__item> <a href=../formats/ class=md-nav__link> Formats </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Transformation schemas <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Transformation schemas </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#schema class=md-nav__link> Schema </a> </li> <li class=md-nav__item> <a href=#csv-transformation class=md-nav__link> CSV transformation </a> </li> <li class=md-nav__item> <a href=#json-transformation class=md-nav__link> JSON transformation </a> </li> <li class=md-nav__item> <a href=#sql-transformation class=md-nav__link> SQL Transformation </a> <nav class=md-nav aria-label="SQL Transformation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced-sql-types class=md-nav__link> Advanced SQL types </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../unique-values/ class=md-nav__link> Unique values </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../performance/ class=md-nav__link> Performance </a> </li> <li class=md-nav__item> <a href=https://s01.oss.sonatype.org/service/local/repositories/releases/archive/net/datafaker/datafaker/1.6.0/datafaker-1.6.0-javadoc.jar/!/index.html class=md-nav__link> Javadoc </a> </li> <li class=md-nav__item> <a href=../contributing/ class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href=../license/ class=md-nav__link> License </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Releases <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Releases data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Releases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../releases/1.7.0-SNAPSHOT/ class=md-nav__link> 1.7.0-SNAPSHOT </a> </li> <li class=md-nav__item> <a href=../../releases/1.6.0/ class=md-nav__link> 1.6.0 </a> </li> <li class=md-nav__item> <a href=../../releases/1.5.0/ class=md-nav__link> 1.5.0 </a> </li> <li class=md-nav__item> <a href=../../releases/1.4.0/ class=md-nav__link> 1.4.0 </a> </li> <li class=md-nav__item> <a href=../../releases/1.3.0/ class=md-nav__link> 1.3.0 </a> </li> <li class=md-nav__item> <a href=../../releases/1.2.0/ class=md-nav__link> 1.2.0 </a> </li> <li class=md-nav__item> <a href=../../releases/1.1.0/ class=md-nav__link> 1.1.0 </a> </li> <li class=md-nav__item> <a href=../../releases/1.0.0/ class=md-nav__link> 1.0.0 </a> </li> <li class=md-nav__item> <a href=../../releases/0.9.0/ class=md-nav__link> 0.9.0 </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../in-the-media/links/ class=md-nav__link> In the news </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#schema class=md-nav__link> Schema </a> </li> <li class=md-nav__item> <a href=#csv-transformation class=md-nav__link> CSV transformation </a> </li> <li class=md-nav__item> <a href=#json-transformation class=md-nav__link> JSON transformation </a> </li> <li class=md-nav__item> <a href=#sql-transformation class=md-nav__link> SQL Transformation </a> <nav class=md-nav aria-label="SQL Transformation"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced-sql-types class=md-nav__link> Advanced SQL types </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/datafaker-net/datafaker/edit/main/docs/documentation/schemas.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=schema-and-transformers>Schema and transformers<a class=headerlink href=#schema-and-transformers title="Permanent link">&para;</a></h1> <p>Since version 1.7.0 of Datafaker it's possible to specify transformation schema.</p> <p>It also provides a set of ready to use transformers:</p> <ul> <li>CSV</li> <li>JSON</li> <li>SQL</li> <li>YAML</li> <li>Java Object</li> </ul> <h2 id=schema>Schema<a class=headerlink href=#schema title="Permanent link">&para;</a></h2> <p>Schema is a set of rules describing what should be done to transform data from Datafaker representation to one of the supported formats. One of the main advantages of Schema is that the same schema could be used to transform to different formats.</p> <p>Schema can be used in 2 ways: it could be used to generate data from scratch or it could be used to transform existing data.</p> <p>Example of schema definition:</p> <div class="tabbed-set tabbed-alternate" data-tabs=1:1><input checked=checked id=__tabbed_1_1 name=__tabbed_1 type=radio><div class=tabbed-labels><label for=__tabbed_1_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1></a>    <span class=n>Schema</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>schema</span> <span class=o>=</span>
<a id=__codelineno-0-2 name=__codelineno-0-2></a>        <span class=n>Schema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3></a>            <span class=n>field</span><span class=p>(</span><span class=s>&quot;first_name&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>faker</span><span class=p>.</span><span class=na>name</span><span class=p>().</span><span class=na>firstName</span><span class=p>()),</span>
<a id=__codelineno-0-4 name=__codelineno-0-4></a>            <span class=n>field</span><span class=p>(</span><span class=s>&quot;last_name&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>faker</span><span class=p>.</span><span class=na>name</span><span class=p>().</span><span class=na>lastName</span><span class=p>()),</span>
<a id=__codelineno-0-5 name=__codelineno-0-5></a>            <span class=n>field</span><span class=p>(</span><span class=s>&quot;address&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>faker</span><span class=p>.</span><span class=na>address</span><span class=p>().</span><span class=na>streetAddress</span><span class=p>()));</span>
</code></pre></div> </div> </div> </div> <p>It is also supported nested(composite) fields e.g.:</p> <div class="tabbed-set tabbed-alternate" data-tabs=2:1><input checked=checked id=__tabbed_2_1 name=__tabbed_2 type=radio><div class=tabbed-labels><label for=__tabbed_2_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1></a>    <span class=n>Schema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span>
<a id=__codelineno-1-2 name=__codelineno-1-2></a>        <span class=n>compositeField</span><span class=p>(</span><span class=s>&quot;key&quot;</span><span class=p>,</span> <span class=k>new</span> <span class=n>Field</span><span class=o>[]</span><span class=p>{</span><span class=n>field</span><span class=p>(</span><span class=s>&quot;key&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=s>&quot;value&quot;</span><span class=p>)}));</span>
</code></pre></div> </div> </div> </div> <h2 id=csv-transformation>CSV transformation<a class=headerlink href=#csv-transformation title="Permanent link">&para;</a></h2> <p>CSV transformer could be build with help of <code>CsvTransformer.CsvTransformerBuilder</code> e.g.</p> <div class="tabbed-set tabbed-alternate" data-tabs=3:1><input checked=checked id=__tabbed_3_1 name=__tabbed_3 type=radio><div class=tabbed-labels><label for=__tabbed_3_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1></a>     <span class=n>CsvTransformer</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>transformer</span> <span class=o>=</span>
<a id=__codelineno-2-2 name=__codelineno-2-2></a>        <span class=k>new</span> <span class=n>CsvTransformer</span><span class=p>.</span><span class=na>CsvTransformerBuilder</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=p>().</span><span class=na>header</span><span class=p>(</span><span class=kc>true</span><span class=p>).</span><span class=na>separator</span><span class=p>(</span><span class=n>separator</span><span class=p>).</span><span class=na>build</span><span class=p>();</span>
</code></pre></div> </div> </div> </div> <p>The following can be configured:</p> <ul> <li>the separator and quotes could be specified with <code>separator()</code> and <code>quote()</code></li> <li>with or without header also could be specified with <code>header()</code></li> </ul> <p>To generate data based on a schema just call <code>generate</code> against <code>schema</code>:</p> <div class="tabbed-set tabbed-alternate" data-tabs=4:1><input checked=checked id=__tabbed_4_1 name=__tabbed_4 type=radio><div class=tabbed-labels><label for=__tabbed_4_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1></a>     <span class=n>String</span> <span class=n>csv</span> <span class=o>=</span> <span class=n>transformer</span><span class=p>.</span><span class=na>generate</span><span class=p>(</span><span class=n>schema</span><span class=p>,</span> <span class=n>limit</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <p>Also it's possible to use schemas to transform existing data. E.g. there is a collection of <code>Name</code> objects and we are going to build csv of first and last names based on this collection:</p> <div class="tabbed-set tabbed-alternate" data-tabs=5:1><input checked=checked id=__tabbed_5_1 name=__tabbed_5 type=radio><div class=tabbed-labels><label for=__tabbed_5_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1></a>     <span class=n>Schema</span><span class=o>&lt;</span><span class=n>Name</span><span class=p>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>schema</span> <span class=o>=</span>
<a id=__codelineno-4-2 name=__codelineno-4-2></a>        <span class=n>Schema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>field</span><span class=p>(</span><span class=s>&quot;firstName&quot;</span><span class=p>,</span> <span class=n>Name</span><span class=p>::</span><span class=n>firstName</span><span class=p>),</span> <span class=n>field</span><span class=p>(</span><span class=s>&quot;lastname&quot;</span><span class=p>,</span> <span class=n>Name</span><span class=p>::</span><span class=n>lastName</span><span class=p>));</span>
<a id=__codelineno-4-3 name=__codelineno-4-3></a>
<a id=__codelineno-4-4 name=__codelineno-4-4></a>    <span class=n>CsvTransformer</span><span class=o>&lt;</span><span class=n>Name</span><span class=o>&gt;</span> <span class=n>transformer</span> <span class=o>=</span>
<a id=__codelineno-4-5 name=__codelineno-4-5></a>        <span class=k>new</span> <span class=n>CsvTransformer</span><span class=p>.</span><span class=na>CsvTransformerBuilder</span><span class=o>&lt;</span><span class=n>Name</span><span class=o>&gt;</span><span class=p>().</span><span class=na>header</span><span class=p>(</span><span class=kc>false</span><span class=p>).</span><span class=na>separator</span><span class=p>(</span><span class=s>&quot; : &quot;</span><span class=p>).</span><span class=na>build</span><span class=p>();</span>
<a id=__codelineno-4-6 name=__codelineno-4-6></a>    <span class=n>String</span> <span class=n>csv</span> <span class=o>=</span>
<a id=__codelineno-4-7 name=__codelineno-4-7></a>        <span class=n>transformer</span><span class=p>.</span><span class=na>generate</span><span class=p>(</span>
<a id=__codelineno-4-8 name=__codelineno-4-8></a>            <span class=n>faker</span><span class=p>.</span><span class=o>&lt;</span><span class=n>Name</span><span class=o>&gt;</span><span class=n>collection</span><span class=p>().</span><span class=na>suppliers</span><span class=p>(</span><span class=n>faker</span><span class=p>::</span><span class=n>name</span><span class=p>).</span><span class=na>maxLen</span><span class=p>(</span><span class=n>limit</span><span class=p>).</span><span class=na>build</span><span class=p>(),</span>
<a id=__codelineno-4-9 name=__codelineno-4-9></a>            <span class=n>schema</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <h2 id=json-transformation>JSON transformation<a class=headerlink href=#json-transformation title="Permanent link">&para;</a></h2> <p>JSON transformation is very similar to CSV. The main difference is that JSON supports nested values which could be handled with help of <code>compositeField</code>.</p> <p>Example of JSON generation:</p> <div class="tabbed-set tabbed-alternate" data-tabs=6:1><input checked=checked id=__tabbed_6_1 name=__tabbed_6 type=radio><div class=tabbed-labels><label for=__tabbed_6_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1></a>    <span class=n>Schema</span><span class=o>&lt;</span><span class=n>Object</span><span class=p>,</span> <span class=o>?&gt;</span> <span class=n>schema</span> <span class=o>=</span> <span class=n>Schema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span>
<a id=__codelineno-5-2 name=__codelineno-5-2></a>        <span class=n>field</span><span class=p>(</span><span class=s>&quot;Text&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>faker</span><span class=p>.</span><span class=na>name</span><span class=p>().</span><span class=na>firstName</span><span class=p>()),</span>
<a id=__codelineno-5-3 name=__codelineno-5-3></a>        <span class=n>field</span><span class=p>(</span><span class=s>&quot;Bool&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>faker</span><span class=p>.</span><span class=na>bool</span><span class=p>().</span><span class=na>bool</span><span class=p>())</span>
<a id=__codelineno-5-4 name=__codelineno-5-4></a>    <span class=p>);</span>
<a id=__codelineno-5-5 name=__codelineno-5-5></a>
<a id=__codelineno-5-6 name=__codelineno-5-6></a>    <span class=n>JsonTransformer</span><span class=o>&lt;</span><span class=n>Object</span><span class=o>&gt;</span> <span class=n>transformer</span> <span class=o>=</span> <span class=k>new</span> <span class=n>JsonTransformer</span><span class=o>&lt;&gt;</span><span class=p>();</span>
<a id=__codelineno-5-7 name=__codelineno-5-7></a>    <span class=n>String</span> <span class=n>json</span> <span class=o>=</span> <span class=n>transformer</span><span class=p>.</span><span class=na>generate</span><span class=p>(</span><span class=n>schema</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <p>To use composite fields it should be defined on <code>Schema</code> level and nothing more.</p> <h2 id=sql-transformation>SQL Transformation<a class=headerlink href=#sql-transformation title="Permanent link">&para;</a></h2> <p>Note: right now only <code>INSERT</code> is supported. </p> <p>It generates a number of <code>INSERT</code> statements. There are 2 modes: batch and non batch generation.</p> <p>Batch generation means that one <code>INSERT</code> statement contains several rows to insert. Since different databases could have different syntax there is initial support for different dialects. Dialect could be specified during <code>SQLTransformaer</code> build e.g:</p> <div class="tabbed-set tabbed-alternate" data-tabs=7:1><input checked=checked id=__tabbed_7_1 name=__tabbed_7 type=radio><div class=tabbed-labels><label for=__tabbed_7_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1></a>    <span class=n>SqlTransformer</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>transformer</span> <span class=o>=</span>
<a id=__codelineno-6-2 name=__codelineno-6-2></a>        <span class=k>new</span> <span class=n>SqlTransformer</span><span class=p>.</span><span class=na>SqlTransformerBuilder</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=p>()</span>
<a id=__codelineno-6-3 name=__codelineno-6-3></a>            <span class=p>.</span><span class=na>schemaName</span><span class=p>(</span><span class=n>tableSchemaName</span><span class=p>).</span><span class=na>dialect</span><span class=p>(</span><span class=n>SqlDialect</span><span class=p>.</span><span class=na>ORACLE</span><span class=p>).</span><span class=na>build</span><span class=p>();</span>
</code></pre></div> </div> </div> </div> <p>Dialect also handle SQL quote identifiers, quotes and other SQL dialect specifics.</p> <p>An example of batch mode:</p> <div class="tabbed-set tabbed-alternate" data-tabs=8:1><input checked=checked id=__tabbed_8_1 name=__tabbed_8 type=radio><div class=tabbed-labels><label for=__tabbed_8_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1></a>    <span class=n>Faker</span> <span class=n>faker</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Faker</span><span class=p>();</span>
<a id=__codelineno-7-2 name=__codelineno-7-2></a>    <span class=n>Schema</span><span class=o>&lt;</span><span class=n>String</span><span class=p>,</span> <span class=n>String</span><span class=o>&gt;</span> <span class=n>schema</span> <span class=o>=</span>
<a id=__codelineno-7-3 name=__codelineno-7-3></a>        <span class=n>Schema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>field</span><span class=p>(</span><span class=s>&quot;firstName&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>faker</span><span class=p>.</span><span class=na>name</span><span class=p>().</span><span class=na>firstName</span><span class=p>()),</span>
<a id=__codelineno-7-4 name=__codelineno-7-4></a>            <span class=n>field</span><span class=p>(</span><span class=s>&quot;lastName&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>faker</span><span class=p>.</span><span class=na>name</span><span class=p>().</span><span class=na>lastName</span><span class=p>()));</span>
<a id=__codelineno-7-5 name=__codelineno-7-5></a>    <span class=n>SqlTransformer</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>transformer</span> <span class=o>=</span>
<a id=__codelineno-7-6 name=__codelineno-7-6></a>        <span class=k>new</span> <span class=n>SqlTransformer</span><span class=p>.</span><span class=na>SqlTransformerBuilder</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=p>()</span>
<a id=__codelineno-7-7 name=__codelineno-7-7></a>            <span class=p>.</span><span class=na>batch</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span>
<a id=__codelineno-7-8 name=__codelineno-7-8></a>            <span class=p>.</span><span class=na>tableName</span><span class=p>(</span><span class=s>&quot;MY_TABLE&quot;</span><span class=p>)</span>
<a id=__codelineno-7-9 name=__codelineno-7-9></a>            <span class=p>.</span><span class=na>dialect</span><span class=p>(</span><span class=n>SqlDialect</span><span class=p>.</span><span class=na>POSTGRES</span><span class=p>)</span>
<a id=__codelineno-7-10 name=__codelineno-7-10></a>            <span class=p>.</span><span class=na>build</span><span class=p>();</span>
<a id=__codelineno-7-11 name=__codelineno-7-11></a>    <span class=n>String</span> <span class=n>output</span> <span class=o>=</span> <span class=n>transformer</span><span class=p>.</span><span class=na>generate</span><span class=p>(</span><span class=n>schema</span><span class=p>,</span> <span class=mi>10</span><span class=p>);</span>
</code></pre></div> </div> </div> </div> <p>will generate 2 <code>INSERT</code> each containing 5 rows e.g. <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1></a>INSERT INTO MY_TABLE (&quot;firstName&quot;, &quot;lastName&quot;)
<a id=__codelineno-8-2 name=__codelineno-8-2></a>VALUES (&#39;Billy&#39;, &#39;Wintheiser&#39;),
<a id=__codelineno-8-3 name=__codelineno-8-3></a>       (&#39;Fernando&#39;, &#39;Sanford&#39;),
<a id=__codelineno-8-4 name=__codelineno-8-4></a>       (&#39;Jamey&#39;, &#39;Torp&#39;),
<a id=__codelineno-8-5 name=__codelineno-8-5></a>       (&#39;Nicolette&#39;, &#39;Wiza&#39;),
<a id=__codelineno-8-6 name=__codelineno-8-6></a>       (&#39;Sherman&#39;, &#39;Miller&#39;);
<a id=__codelineno-8-7 name=__codelineno-8-7></a>INSERT INTO MY_TABLE (&quot;firstName&quot;, &quot;lastName&quot;)
<a id=__codelineno-8-8 name=__codelineno-8-8></a>VALUES (&#39;Marcell&#39;, &#39;Walsh&#39;),
<a id=__codelineno-8-9 name=__codelineno-8-9></a>       (&#39;Kareen&#39;, &#39;Bode&#39;),
<a id=__codelineno-8-10 name=__codelineno-8-10></a>       (&#39;Jules&#39;, &#39;Homenick&#39;),
<a id=__codelineno-8-11 name=__codelineno-8-11></a>       (&#39;Lashay&#39;, &#39;Gaylord&#39;),
<a id=__codelineno-8-12 name=__codelineno-8-12></a>       (&#39;Tyler&#39;, &#39;Miller&#39;);
</code></pre></div></p> <h3 id=advanced-sql-types>Advanced SQL types<a class=headerlink href=#advanced-sql-types title="Permanent link">&para;</a></h3> <p>It also supports generation of <code>ARRAY</code>, <code>MULTISET</code> and <code>ROW</code> types. Please be aware that not every database engine supports it and datafaker could do it for every dialect. To generate <code>ARRAY</code> schema field should supply and array. To generate <code>MULTISET</code> schema field should supply a list (SQL <code>MULTISET</code> could contain duplicates) To generate <code>ROW</code> schema field should supply a <code>compositeField</code></p> <p>e.g.</p> <div class="tabbed-set tabbed-alternate" data-tabs=9:1><input checked=checked id=__tabbed_9_1 name=__tabbed_9 type=radio><div class=tabbed-labels><label for=__tabbed_9_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1></a>    <span class=n>Schema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>field</span><span class=p>(</span><span class=s>&quot;ints&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=k>new</span> <span class=kt>int</span><span class=o>[]</span><span class=p>{</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>}));</span>
</code></pre></div> </div> </div> </div> <p>will lead to</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1></a>INSERT INTO &quot;MyTable&quot; (&quot;ints&quot;) VALUES (ARRAY[1, 2, 3]);
</code></pre></div> <div class="tabbed-set tabbed-alternate" data-tabs=10:1><input checked=checked id=__tabbed_10_1 name=__tabbed_10 type=radio><div class=tabbed-labels><label for=__tabbed_10_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1></a>    <span class=n>Schema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>field</span><span class=p>(</span><span class=s>&quot;names_multiset&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=n>Collections</span><span class=p>.</span><span class=na>singleton</span><span class=p>(</span><span class=s>&quot;hello&quot;</span><span class=p>));</span>
</code></pre></div> </div> </div> </div> <p>will lead to</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1></a>INSERT INTO &quot;MyTable&quot; (&quot;names_multiset&quot;) VALUES (MULTISET[&#39;hello&#39;]);
</code></pre></div> <div class="tabbed-set tabbed-alternate" data-tabs=11:1><input checked=checked id=__tabbed_11_1 name=__tabbed_11 type=radio><div class=tabbed-labels><label for=__tabbed_11_1>Java</label></div> <div class=tabbed-content> <div class=tabbed-block> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1></a>    <span class=n>chema</span><span class=p>.</span><span class=na>of</span><span class=p>(</span><span class=n>compositeField</span><span class=p>(</span><span class=s>&quot;row&quot;</span><span class=p>,</span> <span class=k>new</span> <span class=n>Field</span><span class=o>[]</span><span class=p>{</span><span class=n>field</span><span class=p>(</span><span class=s>&quot;name&quot;</span><span class=p>,</span> <span class=p>()</span> <span class=o>-&gt;</span> <span class=s>&quot;2&quot;</span><span class=p>)});</span>
</code></pre></div> </div> </div> </div> <p>will lead to</p> <div class=highlight><pre><span></span><code><a id=__codelineno-14-1 name=__codelineno-14-1></a>INSERT INTO &quot;MyTable&quot; (&quot;row&quot;) VALUES (ROW(&#39;2&#39;));
</code></pre></div> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top data-md-state=hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg> Back to top </a> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../formats/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Formats" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Previous </span> Formats </div> </div> </a> <a href=../unique-values/ class="md-footer__link md-footer__link--next" aria-label="Next: Unique values" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Unique values </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2016 - 2022 Erik Pragt </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "../..", "features": ["content.code.annotate", "navigation.indexes", "navigation.sections", "navigation.tabs", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../assets/javascripts/workers/search.e2270630.min.js"}</script> <script src=../../assets/javascripts/bundle.01689f5c.min.js></script> </body> </html>